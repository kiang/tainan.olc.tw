<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>重度級急救責任醫院急診狀態地圖</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ol@v7.1.0/ol.css">
  <style>
    html, body {
      height: 100%;
      padding: 0;
      margin: 0;
      background: #fff;
    }
    #map {
      width: 100%;
      height: 100vh;
    }
    .ol-popup {
      position: absolute;
      background-color: white;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #cccccc;
      bottom: 12px;
      left: -50px;
      min-width: 320px;
    }
    .ol-popup:after, .ol-popup:before {
      top: 100%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
    }
    .ol-popup:after {
      border-top-color: white;
      border-width: 10px;
      left: 48px;
      margin-left: -10px;
    }
    .ol-popup:before {
      border-top-color: #cccccc;
      border-width: 11px;
      left: 48px;
      margin-left: -11px;
    }
    .ol-popup-closer {
      text-decoration: none;
      position: absolute;
      top: 2px;
      right: 8px;
    }
    .ol-popup-closer:after {
      content: "✖";
    }
    .legend {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    .legend-item {
      margin: 5px 0;
    }
    .legend-color {
      display: inline-block;
      width: 20px;
      height: 20px;
      margin-right: 5px;
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <div id="map">
    <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content"></div>
    </div>
  </div>
  <div class="legend">
    <h6>圖例說明</h6>
    <div class="legend-item">
      <span class="legend-color" style="background: #ff0000;"></span>
      <span>急診壅塞</span>
    </div>
    <div class="legend-item">
      <span class="legend-color" style="background: #ffdd57;"></span>
      <span>有等待病患</span>
    </div>
    <div class="legend-item">
      <span class="legend-color" style="background: #48c774;"></span>
      <span>無等待病患</span>
    </div>
    <div style="margin-top: 10px; text-align: center;">
      <a href="https://info.nhi.gov.tw/INAE4000/INAE4001S01" target="_blank" class="btn btn-sm btn-info">
        資料來源：健保署
      </a>
    </div>
  </div>
  <div style="position: fixed; bottom: 0px; left: 0px;">
    <a href="https://facebook.com/k.olc.tw/" target="_blank" class="btn btn-lg alert-primary">北中西區台南市議員參選人江明宗 製作</a>
</div>

  <script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/ol@v7.1.0/dist/ol.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
