import{_ as b,c as n,b as t,h as i,k as z,i as x,T as k,l as C,g as l,t as L,e as d,f as c,q as B}from"./index.C9XMAabM.js";import{_ as M}from"./LeafletMap.B7d9BzoW.js";const V={class:"street-record-page"},$={class:"map-wrapper"},A={key:0,class:"video-panel"},S={class:"panel-header"},T={class:"location-info"},j={key:0,class:"video-container"},N=["src"],U={class:"video-actions"},D=["href"],F="https://tainan.olc.tw/json/lines.json",I="https://tainan.olc.tw/json/67000-08.json",J={__name:"StreetRecord",setup(P){const{width:u}=B(),p=C(()=>u.value<=576?13:14),v=[23.004582,120.198],s=c(!1),o=c(""),r=c("");function h(a){const e=String(a),m=e.substring(0,4),g=e.substring(4,6),_=e.substring(6,8),y=e.substring(8,10);return`${m}/${g}/${_} ${y}:00`}function w(a){a.properties.v&&(o.value=a.properties.v,r.value=a.properties.ymdh?h(a.properties.ymdh):"",s.value=!0)}function f(){s.value=!1,o.value="",r.value=""}return(a,e)=>(l(),n("main",V,[t("div",$,[i(M,{center:v,zoom:p.value,geoJsonUrl:F,boundaryUrl:I,mapType:"lines",onFeatureClick:w},null,8,["zoom"]),e[0]||(e[0]=z('<div class="map-info" data-v-cedaf79f><div class="info-icon" data-v-cedaf79f><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" data-v-cedaf79f><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" data-v-cedaf79f></path><path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" data-v-cedaf79f></path></svg></div><p data-v-cedaf79f>點擊路線觀看掃街紀錄影片</p></div>',1))]),i(k,{name:"slide"},{default:x(()=>[s.value?(l(),n("div",A,[t("div",S,[t("div",T,[e[1]||(e[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[t("path",{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}),t("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"})],-1)),t("span",null,L(r.value||"掃街紀錄"),1)]),t("button",{class:"close-btn",onClick:f,"aria-label":"關閉"},[...e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[t("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1)])])]),o.value?(l(),n("div",j,[t("iframe",{src:`https://www.youtube.com/embed/${o.value}?autoplay=1`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,N)])):d("",!0),t("div",U,[t("a",{href:`https://www.youtube.com/watch?v=${o.value}`,target:"_blank",rel:"noopener noreferrer",class:"youtube-link"},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[t("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"})],-1),t("span",null,"在 YouTube 上觀看",-1)])],8,D)])])):d("",!0)]),_:1})]))}},E=b(J,[["__scopeId","data-v-cedaf79f"]]);export{E as default};
